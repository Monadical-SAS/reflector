# Jitsi Configuration
# Copy this file to .env and configure for your environment

# ===== Basic Settings =====
HTTP_PORT=8080
HTTPS_PORT=8443
PUBLIC_URL=https://meet.localhost:8443
DOCKER_HOST_ADDRESS=localhost

# ===== Authentication =====
# 0 = anyone can create rooms, 1 = only authenticated users
ENABLE_AUTH=0
ENABLE_GUESTS=1
AUTH_TYPE=internal

# ===== Secrets (change these in production!) =====
JICOFO_AUTH_PASSWORD=changeme123
JICOFO_COMPONENT_SECRET=changeme456
JVB_AUTH_PASSWORD=changeme789
JIBRI_XMPP_PASSWORD=changeme012
JIBRI_RECORDER_PASSWORD=changeme345

# ===== Recording =====
ENABLE_RECORDING=1
JIBRI_RECORDING_RESOLUTION=1280x720
JIBRI_RECORDING_VIDEO_ENCODE_PRESET=veryfast

# ===== Transcription =====
ENABLE_TRANSCRIPTIONS=0

# ===== Network =====
JVB_PORT=10000
JVB_TCP_PORT=4443
JVB_TCP_HARVESTER_DISABLED=false
JVB_STUN_SERVERS=stun.l.google.com:19302,stun1.l.google.com:19302

# ===== Event Collection =====
EVENT_COLLECTOR_PORT=3001
REDIS_PORT=6380
REDIS_URL=redis://redis:6379
ENABLE_EVENT_LOGGING=true

# ===== Reflector Integration =====
# Update this to your Reflector backend URL
REFLECTOR_WEBHOOK_URL=http://host.docker.internal:8000/v1/jitsi/events
REFLECTOR_API_KEY=your-api-key-here

# ===== S3 Storage (optional) =====
# For uploading recordings to S3-compatible storage
S3_ENDPOINT=
S3_BUCKET=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1

# ===== Monitoring (optional) =====
ENABLE_STATS_D=false
JVB_SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ===== Advanced =====
CHROMIUM_FLAGS=--use-fake-ui-for-media-stream --start-maximized --kiosk --enabled --disable-infobars --autoplay-policy=no-user-gesture-required
NODE_ENV=development