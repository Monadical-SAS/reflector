# Standalone Caddyfile — single-origin reverse proxy for local development.
# Routes:
#   /server-api/*  → FastAPI backend (server:1250)
#   /*             → Next.js frontend  (web:3000)

localhost {
	# API + WebSocket: server has ROOT_PATH=/server-api so path is preserved
	handle /server-api/* {
		reverse_proxy server:1250
	}

	# Everything else → frontend
	handle {
		reverse_proxy web:3000
	}
}
